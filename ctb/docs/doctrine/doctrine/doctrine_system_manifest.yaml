meta:
  doctrine_source: "Barton Doctrine / System Manifest"
  last_updated: 2025-10-30
  author: Nix
  description: |
    Master manifest describing the Barton Enterprises architecture.
    Lists doctrine layers, active tools, and official acronyms.

# ─────────────────────────────────────────────
#  TOOL SECTIONS (Doctrine Layers)
# ─────────────────────────────────────────────
tool_sections:
  - id: UI
    label: "Operational Visualization Layer"
    purpose: "Human-facing control tower for all LLCs and processes"
    current_tool: "Lovable.DAVE"
    notes:
      - "UI layer is permanent; implementation may rotate (e.g., Builder.io, Vercel UI)."

  - id: SYSTEM_MONITOR
    label: "System Monitoring & Telemetry"
    purpose: "Observe automations, data flow, and system health"
    current_tool: "Grafana Pro"
    notes:
      - "Grafana Pro connected to n8n, Firebase, Neon, and BigQuery."
      - "Embedded as System Monitor tab inside Lovable."

  - id: GATEWAY
    label: "Automation & Integrations"
    purpose: "Execute workflows and manage external API connectors"
    current_tool: "n8n + Composio"
    notes:
      - "Gateway is mandatory for all external connections and doctrine enforcement."

  - id: VAULT_STRUCTURED
    label: "Structured Data Vault"
    purpose: "Permanent, doctrine-locked storage"
    current_tool: "Neon (PostgreSQL)"
    doctrine_alias: "STAMPED"

  - id: VAULT_REALTIME
    label: "Realtime Memory Vault"
    purpose: "Working memory / live UI sync"
    current_tool: "Firebase (Firestore)"
    doctrine_alias: "SPVPET"

  - id: VAULT_ANALYTICS
    label: "Analytics Warehouse"
    purpose: "Aggregations and historical analysis"
    current_tool: "BigQuery"
    doctrine_alias: "STACKED"

  - id: ENGINEERING
    label: "Engineering & Development Cockpit"
    purpose: "Code authoring, schema migrations, doctrine audits"
    current_tool: "Cursor 2.0 + CODEX"
    doctrine_alias: "Engineering Hangar (30k ft)"

  - id: GOVERNANCE
    label: "Governance & Source of Truth"
    purpose: "Doctrine, version control, and agent definitions"
    current_tool: "GitHub Pro (Agent Headquarters)"
    doctrine_alias: "SHQ Governance Layer"
    notes:
      - "GitHub Pro hosts all doctrine repos and CI/CD pipelines."
      - "Primary location for agents.yaml, doctrine files, and version history."

  - id: DEPLOYMENT
    label: "Execution Infrastructure"
    purpose: "Host and run production services"
    current_tool: "Render (Backend) + Vercel (Frontend)"

  - id: EXTERNAL_FEEDS
    label: "External Integrations"
    purpose: "Inbound and outbound data sources"
    current_tool:
      - Apollo
      - Apify
      - MillionVerifier
      - Xero
      - Builder.io
      - Google Workspace

  - id: OBSERVABILITY
    label: "Monitoring & Audit Logs"
    purpose: "Doctrine traceability and operational logging"
    current_tool: "Neon audit_log + pipeline_events + Grafana Pro panels"

# ─────────────────────────────────────────────
#  DOCTRINE ACRONYMS
# ─────────────────────────────────────────────
acronyms:
  - acronym: IMO
    stands_for: "Input–Middle–Output"
    definition: "Framework used in Barton systems to design every process with clear intake, transformation, and delivery phases."

  - acronym: CTB
    stands_for: "Christmas Tree Backbone"
    definition: "Hierarchical architecture mapping all systems from 60k-ft overview down to 5k-ft detailed processes."

  - acronym: ALTITUDE
    stands_for: "System visibility levels (60k–5k)"
    definition: "Defines perspective and scope of doctrine—from strategic overview (30k) to operational detail (5k)."

  - acronym: HEIR
    stands_for: "Hierarchy, Enforcement, Integration, Reporting"
    definition: "Supervisory governance system that oversees all doctrinal layers and ensures compliance across agents and databases."

  - acronym: ORBT
    stands_for: "Operate, Repair, Build, Train"
    definition: "Core doctrine enforcing self-documenting, self-repairing, and teachable systems within Barton Enterprises."

  - acronym: STAMPED
    stands_for: "Structured Table Architecture for Managed Persistent Enterprise Data"
    definition: "Doctrine schema for Neon vault—validated, version-locked data."

  - acronym: SPVPET
    stands_for: "Structured Processing Vault for Persistent Event Tracking"
    definition: "Firebase schema for realtime working memory."

  - acronym: STACKED
    stands_for: "Structured Table Architecture for Calculated Knowledge & Event Data"
    definition: "BigQuery schema for analytical and historical data."

# ─────────────────────────────────────────────
#  ORBT ERROR LOG
# ─────────────────────────────────────────────
orbt_error_log:
  table: shq.orbt_error_log
  schema: STAMPED
  visibility: global
  purpose: Tracks all repo-layer errors using the ORBT model (Operate, Repair, Build, Train)
  fields:
    - repo_name
    - process_id
    - unique_id
    - agent_id
    - blueprint_id
    - error_layer
    - altitude
    - file_path
    - error_summary
    - error_detail
    - resolution_status
    - resolution_notes
    - timestamp_created
    - timestamp_resolved
    - resolved_by
  error_layers:
    - System
    - Operation
    - Repair
    - Build
    - Training
  altitude_levels:
    - 60000
    - 40000
    - 30000
    - 20000
    - 10000
    - 5000
  resolution_statuses:
    - unresolved
    - in_progress
    - resolved
    - ignored

# ─────────────────────────────────────────────
#  META RELATIONSHIPS
# ─────────────────────────────────────────────
relationships:
  governance_hierarchy:
    - GitHub Pro (Agent HQ)
    - Cursor 2.0 + CODEX
    - Gateway (n8n + Composio)
    - Triple Vault (Firebase, Neon, BigQuery)
    - Visualization (Lovable, Grafana Pro)
    - Execution (Render, Vercel)
  doctrine_supervisor: "HEIR oversees all layers and enforces ORBT compliance."


