{
  "tool_name": "apify_scraper",
  "version": "2.0.1",
  "classification": "external_api_operation",
  "heir_compliance": "v2.1",
  "orbt_policy": "rate_limited_external",
  
  "manifest": {
    "required_fields": {
      "unique_id": {
        "type": "string",
        "pattern": "^HEIR-[0-9]{4}-[0-9]{2}-[A-Z]{3,8}-[A-Z]{2,6}-[0-9]{2}$",
        "description": "HEIR-compliant unique identifier"
      },
      "process_id": {
        "type": "string",
        "pattern": "^PRC-[A-Z0-9]{8}-[0-9]{13}$", 
        "description": "ORBT process tracking identifier"
      },
      "orbt_layer": {
        "type": "integer",
        "minimum": 3,
        "maximum": 6,
        "description": "ORBT policy layer for external operations"
      },
      "blueprint_version": {
        "type": "string",
        "pattern": "^v[0-9]+\\.[0-9]+\\.[0-9]+-[a-f0-9]{8}$",
        "description": "Versioned blueprint hash"
      }
    },
    
    "tool_specific_fields": {
      "actor_id": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9~._-]+/[a-zA-Z0-9~._-]+$",
        "description": "Apify actor identifier",
        "required": true
      },
      "input_data": {
        "type": "object",
        "max_properties": 20,
        "validation": "sanitize_urls",
        "required": true
      },
      "timeout": {
        "type": "integer",
        "minimum": 30,
        "maximum": 300,
        "default": 120,
        "description": "Execution timeout in seconds"
      },
      "memory": {
        "type": "integer",
        "minimum": 128,
        "maximum": 1024,
        "default": 256,
        "description": "Memory allocation in MB"
      }
    },
    
    "security_constraints": {
      "rate_limit": "5_per_minute",
      "concurrent_limit": 2,
      "data_retention": "7_days",
      "pii_scrubbing": "mandatory",
      "domain_allowlist": "enforced"
    },
    
    "fallback_behavior": {
      "on_rate_limit": "queue_with_exponential_backoff",
      "on_timeout": "log_and_retry_once",
      "on_actor_failure": "trigger_alternative_method",
      "on_compliance_violation": "immediate_abort"
    },
    
    "logging_schema": {
      "pre_execution": [
        "unique_id", "process_id", "actor_id", "input_hash", 
        "timestamp", "orbt_layer", "rate_limit_status"
      ],
      "during_execution": [
        "run_id", "status", "progress_percent", "memory_usage",
        "estimated_completion"
      ],
      "post_execution": [
        "result_status", "data_size", "execution_time", "cost",
        "pii_scrubbed_count", "compliance_status"
      ],
      "error_conditions": [
        "error_type", "apify_error_code", "retry_count", 
        "fallback_triggered", "mitigation_action"
      ]
    }
  },
  
  "compliance_checklist": {
    "heir_unique_id_format": "validated",
    "orbt_process_lineage": "tracked",
    "blueprint_version_consistency": "enforced", 
    "external_api_rate_limits": "respected",
    "pii_scrubbing": "mandatory",
    "data_retention_policy": "enforced",
    "mantis_logging_integration": "enabled",
    "kill_switch_registration": "armed"
  },
  
  "orbt_escalation_matrix": {
    "layer_3": "routine_scraping",
    "layer_4": "bulk_data_collection", 
    "layer_5": "sensitive_domain_scraping",
    "layer_6": "executive_intelligence_gathering"
  }
}