# # CTB Metadata
# # Generated: 2025-10-23T14:32:39.148958
# # CTB Version: 1.3.3
# # Division: Configuration & Tests
# # Category: config
# # Compliance: 75%
# # HEIR ID: HEIR-2025-10-MET-CONFIG-01

{
  "_docstring": "IMO-Creator doctrine branch configuration - defines auto-included branches for all new repos",
  "doctrine_branches": {
    "actions-workflows": {
      "description": "CI/CD workflows for compliance, testing, documentation, and deployment",
      "source_branch": "actions-workflows",
      "source_repo": "https://github.com/djb258/imo-creator.git",
      "copy_strategy": "merge_files",
      "files": {
        "compliance": ".github/workflows/compliance.yml",
        "tests": ".github/workflows/tests.yml",
        "docs": ".github/workflows/docs.yml",
        "deploy": ".github/workflows/deploy.yml"
      },
      "auto_include": true,
      "required": true,
      "when_copy": "repo_creation"
    },
    "ai-human-readable": {
      "description": "Repository readability for AI systems and human developers",
      "source_branch": "ai-human-readable",
      "source_repo": "https://github.com/djb258/imo-creator.git",
      "copy_strategy": "merge_files",
      "files": {
        "git_ingest": ".github/workflows/git-ingest.yml",
        "diagram": ".github/workflows/diagram.yml",
        "summary": ".github/workflows/summary.yml"
      },
      "auto_include": true,
      "required": false,
      "when_copy": "repo_creation"
    },
    "drawio-ingest": {
      "description": "Visual documentation with draw.io diagrams generated from GitIngest analysis",
      "source_branch": "drawio-ingest",
      "source_repo": "https://github.com/djb258/imo-creator.git",
      "copy_strategy": "merge_files",
      "files": {
        "drawio_workflow": ".github/workflows/drawio-ingest.yml",
        "gitingest_ignore": ".gitingestignore",
        "diagram_config": "diagrams/config.json",
        "integration_docs": "DRAWIO_INTEGRATION.md"
      },
      "auto_include": true,
      "required": true,
      "when_copy": "repo_creation",
      "auto_triggers": [
        "on_repo_update",
        "on_gitingest_change",
        "on_workflow_change"
      ]
    },
    "composio-mcp-config": {
      "description": "Latest Composio MCP configuration with native API endpoints and authentication",
      "source_branch": "master",
      "source_repo": "https://github.com/djb258/imo-creator.git",
      "copy_strategy": "overwrite_always",
      "files": {
        "mcp_endpoints": "config/mcp_endpoints.json",
        "mcp_registry": "config/mcp_registry.json",
        "mcp_loader": "utils/mcp_config_loader.py",
        "config_readme": "config/README.md",
        "validation_script": "scripts/validate_mcp_config.py",
        "testing_script": "scripts/test_mcp_endpoints.py",
        "integration_docs": "docs/COMPOSIO_MCP_INTEGRATION.md"
      },
      "auto_include": true,
      "required": true,
      "when_copy": ["repo_creation", "deployment", "update"],
      "auto_triggers": [
        "on_repo_update",
        "on_deployment",
        "on_mcp_config_change",
        "daily_sync"
      ],
      "validation": {
        "required_keys": ["metadata.base_url", "mcp_servers", "usage_instructions"],
        "required_tokens": ["oak_d4qEQhMSdWBgvAI3XELr"],
        "endpoint_health_check": true
      },
      "deployment_hooks": {
        "pre_deploy": "scripts/validate_mcp_config.py",
        "post_deploy": "scripts/test_mcp_endpoints.py"
      }
    }
  },
  "scaffold_rules": {
    "always_copy": [
      "config/mcp_registry.json",
      "config/mcp_endpoints.json",
      "config/README.md",
      "utils/mcp_config_loader.py",
      "scripts/validate_mcp_config.py",
      "scripts/test_mcp_endpoints.py",
      "branches/composio/mcp_registry.json",
      "heir.doctrine.yaml",
      "vercel.json",
      "render.yaml",
      ".python-version",
      ".env.example",
      "DEPLOYMENT_URLS.md",
      "imo.config.json"
    ],
    "template_files": [
      "QUICKSTART.md",
      "docs/imo_architecture.md",
      "docs/composio_connection.md",
      "docs/COMPOSIO_MCP_INTEGRATION.md",
      "docs/blueprints/ui/overview.html",
      "docs/blueprints/ui/input.html",
      "docs/blueprints/ui/middle.html",
      "docs/blueprints/ui/output.html"
    ],
    "create_directories": [
      ".github/workflows",
      ".github/generated/diagrams",
      ".github/generated/summaries",
      "config",
      "docs",
      "docs/blueprints/ui",
      "scripts",
      "services",
      "branches/composio",
      "branches/n8n",
      "branches/make",
      "branches/zapier",
      "branches/pipedream"
    ],
    "branch_operations": {
      "copy_from_branches": [
        {
          "branch": "actions-workflows",
          "files": ["**/*.yml", "**/*.yaml"],
          "destination": ".github/workflows/",
          "when": "auto_include"
        },
        {
          "branch": "ai-human-readable",
          "files": ["**/*.yml", "**/*.yaml"],
          "destination": ".github/workflows/",
          "when": "auto_include"
        }
      ],
      "merge_strategies": {
        "workflows": "append_unique",
        "configs": "merge_deep",
        "docs": "overwrite_if_newer"
      }
    }
  },
  "version": "1.0.0",
  "last_updated": "2025-09-26T12:45:00Z",
  "compatibility": {
    "min_python": "3.11",
    "min_node": "18.0.0",
    "github_actions": "v4+"
  }
}