# CTB/DATA Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to version control!

# ============================================
# Primary Database (Neon PostgreSQL)
# ============================================
DATABASE_URL=postgresql://user:password@host:5432/database_name

# Example Neon connection string:
# DATABASE_URL=postgresql://neon_user:password@ep-cool-name-123456.us-east-2.aws.neon.tech/neondb

# Alternatively use separate components:
# DB_HOST=ep-cool-name-123456.us-east-2.aws.neon.tech
# DB_PORT=5432
# DB_NAME=neondb
# DB_USER=neon_user
# DB_PASSWORD=<your-password>
# DB_SSLMODE=require

# ============================================
# Neon-Specific Configuration
# ============================================
NEON_DATABASE_URL=postgresql://user:password@host:5432/database_name
NEON_PROJECT_ID=<your-neon-project-id>
NEON_API_KEY=<your-neon-api-key>

# Get from: https://console.neon.tech/app/projects

# ============================================
# Database Connection Pool
# ============================================
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=false

# ============================================
# Firebase Firestore
# ============================================
FIREBASE_PROJECT_ID=<your-firebase-project-id>
FIREBASE_PRIVATE_KEY=<your-firebase-private-key>
FIREBASE_CLIENT_EMAIL=<your-firebase-client-email>

# Example:
# FIREBASE_PROJECT_ID=my-project-12345
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-abc@my-project.iam.gserviceaccount.com

# Or use service account JSON path:
# FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-service-account.json

# ============================================
# BigQuery (Analytics Warehouse)
# ============================================
BIGQUERY_PROJECT_ID=<your-gcp-project-id>
BIGQUERY_DATASET=<your-dataset-name>
BIGQUERY_CREDENTIALS_PATH=./config/bigquery-credentials.json

# Example:
# BIGQUERY_PROJECT_ID=my-analytics-project
# BIGQUERY_DATASET=imo_creator_analytics
# BIGQUERY_CREDENTIALS_PATH=/path/to/service-account.json

# ============================================
# ChartDB (Schema Visualization)
# ============================================
CHARTDB_ENABLED=true
CHARTDB_AUTO_UPDATE=true
CHARTDB_UPDATE_SCHEDULE=weekly

# ChartDB uses DATABASE_URL to connect and generate schemas
# Schemas saved to: ctb/data/schemas/chartdb_schemas/

# ============================================
# Database Migrations
# ============================================
MIGRATION_AUTO_RUN=false
MIGRATION_LOCATION=ctb/data/migrations
MIGRATION_TABLE=schema_migrations

# ============================================
# Seed Data Configuration
# ============================================
SEED_ENABLED=false
SEED_LOCATION=ctb/data/seeds
SEED_ON_STARTUP=false

# WARNING: Set SEED_ENABLED=true only in development!
# NEVER seed production databases automatically

# ============================================
# Database Backups
# ============================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups

# For Neon, backups are handled automatically
# Manual backups: pg_dump $DATABASE_URL > backup.sql

# ============================================
# Read Replicas (if applicable)
# ============================================
# READ_REPLICA_URL=postgresql://user:password@replica-host:5432/database_name
# READ_REPLICA_ENABLED=false

# ============================================
# Query Performance
# ============================================
QUERY_TIMEOUT=30000
SLOW_QUERY_THRESHOLD=1000
ENABLE_QUERY_LOGGING=false

# ============================================
# Cache Configuration (Redis - optional)
# ============================================
# REDIS_URL=redis://localhost:6379/0
# CACHE_TTL=3600
# CACHE_ENABLED=false

# ============================================
# Development Settings (DEV ONLY)
# ============================================
# DB_ECHO=true
# DB_DEBUG=true
# SEED_ENABLED=true
# MIGRATION_AUTO_RUN=true

# ============================================
# Production Settings (PRODUCTION ONLY)
# ============================================
# DB_POOL_SIZE=20
# DB_MAX_OVERFLOW=40
# BACKUP_ENABLED=true
# READ_REPLICA_ENABLED=true

# ============================================
# Security Settings
# ============================================
# IMPORTANT: Database credentials should be stored in MCP Vault
# Access via: process.env.MCP_DATABASE_URL

# DO NOT hardcode credentials in code
# DO NOT commit .env files
# DO USE .env.example as template
# DO USE MCP Vault for production secrets
